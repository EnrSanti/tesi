\documentclass[a4paper,11pt]{report} %definisce classe documento e dim font
	
	\usepackage{subcaption}
	\usepackage{graphicx} 
	\usepackage{hyperref}
	\usepackage{xcolor}
	\usepackage{titlesec}
	\usepackage{amsmath}
	\usepackage{anyfontsize}

		\titleformat{\chapter}[block]
	  {\normalfont\LARGE\bfseries}{\hspace*{\fill}{\fontsize{60pt}{96pt}\selectfont \underline {$\overline	{{\thechapter}}$}}}{0.0em\newline\newline}{\LARGE}
	\titlespacing*{\chapter}{0pt}{-35pt}{10pt}
	
	\graphicspath{ {./imgTesi/} }
	\title{\textbf{Draft tesi (\textcolor{red}{missing text reported in red})}}
	\author{Enrico Santi}
	
\begin{document}

%per non separare 2 parole da \n -> parola1~parola2
%specifica dove split parola -> par\-ola

\maketitle

\thispagestyle{empty}
\vspace*{-15.5em}
\hspace*{-14.5em}
\includegraphics[scale=1.05]{frontespizio.pdf}

\clearpage
\setcounter{page}{1}

\tableofcontents



\newpage
%fine pag
\chapter{Introduction}
This thesis concerns the work done during the internship at the CdLab of the University of Udine. Starting with a brief introductory study on differential equations, dynamical systems and how it is possible to study these systems through existing softwares. The focus will then be on MatCont and how it has been extended to allow users to study dynamical systems described by delay differential equations via a more user-friendly interface. \newline 
Emphasys will be on describing the extended software, what are its new capabilities and how this task has been achieved.
For what concerns the first brief chapters this thesis is not focused on how the different types of (ordinary) differential equations can be analytically solved but rather on understanding the meaning of ODEs and some of their properties.  
\newline
\newline
\textcolor{red}{Mention that the work done will be presented at a talk?}

\clearpage
%fine pag


\chapter{Introduction to Differential Equations}

A differential equation is a relation involving one or more derivatives of an \emph{unknown} function and the function itself \cite{odeIntro}. The function is referred as \emph{unknown} since solving a differential eqaution (when it is possible) means finding a class of equations (e.g. queations that differ for a constant term) where each equation when substituted to the \emph{unknown} function itself satisfies relationship in an interval $I \subseteq R$. \newline
A first distinction among differential equations is done on the number of indepentent variables the \emph{unknown} fucntion presents, if these variables are more than one then partial differential eqautions are being considered. On the other hand if the independent variable is only one, the differential eqaution is called an ordinary differential equation. \newline
In the following paragraphs only the latter case of differential equation will be taken into account. \newline
Another distinction can be done on whether the relation is dependent not only on the functions but also on the variables of the functions or not. If the case is the latter then the differential equation is said to be autonomous.\newline
The first example below shows an autonomous ordinary differential eqaution while the second example represents a non-automous one:

\begin{center}
$y'(t)+y(t)+1=0$
\end{center}
\begin{center}
$y'(t)+y(t)+t=0$
\end{center}

A more concrete difference concering these two kind of ODEs is shown in Paragraph \ref{geometric}. \textcolor{red}{
...............
...............
...............}

\chapter{Ordinary Differential Equations}

An ordinary differential equation, or ODE, is a kind of differential equation where the \emph{unknown} function only depends on one independent variable (usually referred as time). The domain of the \emph{unknown} function is then an interval $I \subset R$. The most general form an ODE can be written as: $F(t,y(t), yâ€™(t) ... y^{(k)}(t))=0$ \cite{odeIntro} where $t$ is the independent variable, y the \emph{unknown} function, $ y^{(i)}(t) $ the i-th derivative of $y$ and $F$ a function from $A \subseteq R^{(k+2)} \rightarrow R$. \newline
The maximum degree of the derivative of a differential equation is referred as the order of the equation.
The first example below shows a first oder differential eqaution\footnote{A first oder differential eqaution is a differential equation of degree equal to one, a second, third, forth and so on order differential equation will present a degree respectively of two, three, four and so on} while the second example represents a second order one:

\begin{center}
$y'(t)+1=0$
\end{center}

\vspace*{-1.1em}
\begin{equation} 
\label{equation2}
y''(t)+y(t)+1=0
\end{equation}

\vspace*{1em}

A useful observation that could be used when studying ODEs is that given an ODE of degree $n$ it can be re-written as a system of $n$ first order ODEs. As an example the equation \ref{equation2} can be studied as the following system:

\begin{equation} 
\begin{cases}
\label{equationSystem}
z(t)-y'(t)=0 \\
z'(t)+y(t)+1=0 
\end{cases}\,.
\end{equation}

\subsection{Intial value problem}
As written in the introduction, solving a differential equation or a system of equations (i.e. looking for the General solution) means finding a class/family of equations, it may be required though to find a specific solution (i.e. a single equation or system that satisfies the relationship with some initial conditions in the domain of the \emph{unknown} function). 
The initial value problem for a given equation can be viewed as a system containing the differential equations considered and $n$ additional equations that specify the initial conditions where $n$ is the order of the equation.

For what concerns the properties of the IVP the following statement from \cite{chicone} can be cited: "Every initial value problem has a unique solution that is smooth with respect to initial conditions and parameters". 

\section{Geometric interpretation for first order ODEs}
As in many other mathematical fields a geometrical interperatation associated to the concepts helps to obtain a better understanding of the topic.
One of the first geometric concept linked to differential equations is the Trajectory diagram.	This diagram, in relation to a given ODE presents on one of it's axis the independent variable, and on the other the \emph{unknown} fucntion. What this diagram shows is a vector field\footnote{i.e. an assignment of a vector to each point in a given space}, where in each point, the slope of the corresponding vector represent the value the first derivative of the \emph{unknown} fucntion.\newline
This becomes really clear when the definition of derivative is recalled, which can be informally described as a function that associates to each point of a derivable function the angular coefficient of the tangent vector in that point.\newline

\begin{figure}[htp]
\centering
\includegraphics[scale=0.300]{imgTesi/vecFieldAut.png}
\caption{The trajectory diagram of $y'(x)=y(x)+1$, showing one solution}
\label{fig:autonomous}
\end{figure}
\begin{figure}[htp]
\centering
\includegraphics[scale=0.300]{imgTesi/vecFieldNonAut.png}
\caption{The trajectory diagram of $y'(x)=y(x)+x$, showing one solution}
\label{fig:mainMatCont2}
\end{figure}


The two trajectory diagrams and the solution of the respective initial value problem (with $y(0)=1$) epmphasize the geometrical difference between the trajectory of an autonomous ODE Figure \ref{fig:autonomous} and the trajectory of a non-autonomous ODE. In the first case the vector associted to a given point $(x_k,y(x_k))$ remains the same for every other value point $(x_l,y(x_k))$, while the second diagram doesn't present this property. \label{geometric}
\newline
The geometric interpretation allows to quantitative study an ODE or a system of ODEs without analytically solve them, giving insights on the problem \cite{chicone}.
For what concenrs systems of autonomous ordinary differential equations usually the phase or orbit plane is presented, this plane doesn't present the independent variable axis (e.g. the time axis), allowing to study the dynamics of a system independently from the time prespective (i.e. study the orbits).
The phase diagram can also be plotted for an autonomous ODE, but this will result in a one dimensional euclidean plane.\newline
\newline
From the phase plane of some systems can be present curves (i.e. single orbits) that show some interesting properties, for example closed curves and single points denote special orbits, respectively called a \emph{periodic orbit} and a \emph{stable point} or an \emph{equilibrium}. In Chapter 5 the related concepts of stability and bifurcation will be briefly discussed. \cite{chicone}


\section{An example}

A simple example of an ODE is represented by the Malthus equation:  
\begin{equation}
y'(t)=r*y(t) 
\label{malthusEquation}
\end{equation}
 
This equation\footnote{Where $r$ is a parameter.} is a linear autonomous first order ODE which can be solved analytically by separation of variables\footnote{A procedure for solving ODEs that can be rewritten as $y'(t)=a(t)*b(y)$}.\newline
The general solution of the equation is $y(t)=y_0*e^{(r*t)}$ where $y_0$ is the initial value chosen for $y(t_0)$.\newline
An equilibrium, so a solution constant on the domain, for the equation (regardless the value of the parameter r) is obtained with the value $y_0=0$. Plotting the solution of the relative IVP (with differents values of r) will always result in a straight line on the trajectory plane.

\chapter{Delay Differential Equations}

\textcolor{red}{
...............
...............
...............}

\section{The idea behind the discretization algorithm}

\textcolor{red}{
...............
...............
...............}

\chapter{Dynamical Systems}

A dynamical system is a system whose state varies as the time varies \cite{arrowsmith1990introduction} inside a phase space. A phase space can be informally described as all the values the dynamical system considered can assume as the time progesses. These systems are used to model the evolution of a phenomenon.\newline
A fist major distinction of these systems is related to how the time is considered, if it is considered as a series of discrete intervals (i.e. $ t \in N $) then these are discrete dynamical systems, on the other hand if the time is considered continous (i.e. $ t \in R $) then these are continous dynamical systems.
As described in \cite{MEERSCHAERT2013115} the relationship between discrete and continuous systems is the relationship between $\delta x/\delta t$ and $dx/dt$.
\textcolor{red}{
...............
...............
...............}


\section {Discrete dynamical systems}
\cite{brin2002introduction}
\textcolor{red}{
...............
...............
...............}

\section {Continuos dynamical systems}

A continous dynamical system can be defined by a set of times $T \subset R$, a state space $X$ and a family of maps $T(t): X \rightarrow X$ such that $T(0) = Ix$ (where Ix is the identity map) and for all $ times t1,t2 \in T$   $ T(t1+t2)=T(t1) \circ T(t2)$ \textcolor{red}{[citazione }.
\textcolor{red}{
...............
...............
...............}
\section {Stability and Bifurcations}

The idea of stability of a solution is both informally and rigorously described in \cite{chicone}, the latter can be defined as: a solution for a differential equation is stable wheter other solutions close to the solution considered remain relatively close.
\newline\newline
When taking into consideration systems depending on one or more parameters such as \ref{malthusEquation} it can be studied how changes in the value of a single parameter affect the solution of the system itself.
The graph showing how changes in the parameter change the (general) solution is the \emph{bifurcation diagram} \cite{chicone} and it can be represented as an euclidian plane presenting on an axis the parameter choosen for the bifurcation analysis and on the other axis the coordinates for the orbit diagram of the system.
\newline
Depending on which aspect of the system's solution changes bifurcation can be classified into different classes, such as:
 
\textcolor{red}{
...............
elenco biforcazioni
...............}

\subsection{Example: Logistic Model}

The logistic model represented by the logistic equation \ref{logisticEQ} describes the ratio at which a population of individuals grows. The parameter $r$ is the rate of maximum population growth (i.e. the rate at which the individuals can reproduce)\cite{weisstein2003logistic}. The parameter $r$ is usually considered a positive value.
\textcolor{red}{
...............
...............
...............}

\subsection{Example: Predator Prey Model}

\textcolor{red}{
...............
...............
...............}

\chapter{A brief introdution to MatCont}

MatCont is a software, based upon MatLab, that provides functions and a graphic user interface to study the behaviour of dynamical systems, particuralry what concerns the bifurcation analisys\cite{documentazione}.
\newline
The GUI and functions provided are independent, since the functionalities of MatCont can also be used from the MatLab's command line. 
\newline
In the following paragraphs the main aspects of MatCont's GUI and how the user could interact with it will be discussed, since they should be kept in consideration when the extension part will be described in the next chapter.
There will not be an exhaustive description of the parsing done by MatCont on the data inserted by the user since during the extension process this parsing phase has been largely amplified (??) but only slightly interfering with the pre-existing parsing.

\section{Overview of the current MatCont GUI}

\subsection{MatCont Main Window}
MatCont presents to the user a monochromatic but rather intuitive interface. 
The main window shown to the user is divided into three sections: \emph{Class}, \emph{Current System} and \emph{Current Curve}.
\emph{Class} shows the user what type of system is currently loaded (at the moment only ODE), while
\emph{Current System} shows the user some basic information about the system itself, such as the name and how the derivatives will be computed (i.e. N for numerically, S for symbolically, and R from window). \emph{Current Curve} shows the curve loaded and what is going to be computed, to give the user some recall of what the state of the software is. In this section information such as the properties of the initial point (i.e. "initial point type") and the method that's going to be executed when computing the curve (i.e. "initializer") are displayed.
Above these three sections a toolbar menu is presented, from here the user can create a new system, load, edit or delete an already existing one. The type of the specified initial point can also be selected from this menu (e.g. a point without special properties, an equilibrium etc...), the curve to compute can be chosen (e.g. an orbit, an equilibrium etc...). The user from this toolbar menu can also open an output window, both numerical and graphical (i.e. an euclidean plane with two or three axes). The graphical output window will plot the graph (along the specified axis) of what is being computed, at the same time the numerical output window will show the values of the specified parameters, coordinates and other variables at every step of the computation. 

\begin{figure}[htp]
\centering
\includegraphics[scale=0.500]{imgTesi/mainMatCont.png}
\caption{The main MatCont window}
\label{fig:mainMatCont2}
\end{figure}

\subsection{Inserting a new system}
By pressing on Select, System, New in the toolbar menu the user can have access to a new window called \emph{System} from which MatCont allows the user to insert a new system. \newline This window presents the user several input fields to be filled in:
\begin{itemize}
	\item Name: Allows the user to specify the name of the system. 
	\item Coordinates: Must contain the coordinates of the system.
	\item Parameters: Must contain all the parameters used in the system. 
	\item Time: Must contain the name of the independent variable on which the equations in the system depend.
\end{itemize}

The name of the system must not contain spaces, while the coordinates and the parameters have to be separated by commas.
\newline
There is then a table with radio buttons that specify for each order of derivative how it should be computed, \emph{Numerically} the value of the derivative will be numerically approximated, \emph{From window} will allow the user to insert the derivative for each equation in the system (this can be done to save time during the computation) and \emph{Symbolically} which will specify to compute the derivative (if the Symbolic toolbox is installed in MatLab) symbolically.
At the bottom of this window a larger text entry window is shown to allow the user to type the system in\label{systemWindow}. The syntax a system must satisfy will be later described.

\paragraph{What happens next?} Let for example the name of the new system inserted be "NewTypedSystem", when the user has correctly inserted all the required data and pressed the \emph{Ok button} MatCont will parse the data entered and create two files under the folder \emph{System} named "NewNewTypedSystem.m" and "NewTypedSystem.mat" \cite{documentazione}. 
These files are respectively a MatLab script file, and a binary file. The latter will contain a struct with 36 fields describing the system, such as the list of coordinates, the list of parameters, the equations in the system, the dimension of the system (i.e. the number of different coordnates) etc...\newline
This binary file contains the struct that will be loaded in order to initialise the fields of the current struct representing the system when "Edit", or "Load" is pressed. The .mat file, on the other hand, contains functions such as \emph{fun\_eval} and \emph{init} that will be called by MatCont when performing different computations on the system.

\begin{figure}[htp]
\hspace*{-4em}
\includegraphics[scale=0.40]{imgTesi/matcont_system_state_diagram.jpg}
\caption{The state diagram regarding the insertion of a new system}
\label{stateDiagram}
\end{figure}

\newpage
\subsection{Editing an existing system}
By pressing on \emph{Select}, \emph{System}, \emph{Load/Edit/Delete System} the user will be shown a new window in which an existing system and an action to perform on it can be selected by pressing the relative button, "Load", "Delete" or "Edit". \newline 
When "Edit" is pressed the same window used to input the new system is shown, this time though, the .m file related to the system will be loaded and all the fields will be already filled with the system details. The user can then modify what needed and press the \emph{ok button} to confirm what was done, now both the .m and .mat file will be overwritten with the new information and the system will be reloaded from them.

\section{The existing documentation}
Online it is possible to find some guides and tutorials that introduce MatCont to a new user\footnote{https://sourceforge.net/projects/matcont/files/NewestDocumentation/MatContODE/Tutorials7px/} by presenting a series of examples that can be repeated step by step. A manual also exists that provides more knowledge on how this software works and how it is structured\footnote{https://sourceforge.net/projects/matcont/files/NewestDocumentation/MatContODE/ManualAug2019.pdf}.	
\newline  
\label{documentation}On the other hand the lack of code documentation, such as comments or method contracts, especially in some regions of the code can make reading, understanding and subsequently modifying the software quite a difficult task.

\chapter{Extending the user interface of MatCont}

In this chapter will be presented how the interface of MatCont has been extended, how this task has been achieved, some difficulties faced and what are now the software capabilities. 


\section{MatCont's extended capabilities}
The capabilities of the extended MatCont version (i.e. what systems of differential equations can recognise) have been gradually increased since an iterative development process was used \ref{iterative}.
The systems that can be studied with MatCont now include all the previous ODE systems (referred in later paragraphs as \emph{legacy systems})as well as DDE systems with one or more (discrete?) constant delays, such as $y'(t)=\beta*y(t-TAU)/(1+y(t-TAU)^n)-\gamma*y(t)$\footnote{The Mackey-Glass equation} and distributed delays as for example \textcolor{red}{[inserire esempio di sistema con ritardi distribuiti]}.
...........
...........
...........
\newpage
\section{Overview of the extended MatCont GUI}

From the end user perspective the differences with the original MatCont GUI can be found when inserting or editing a system. These differences were intended to be both as localised as possible and coherent with MatCont's GUI style. The latter point has been achieved, the first one (i.e. keeping the differences localized in few specific areas) has been satisfied only from the end user point of view.\newline
While the graphical differences in the interface can be circumscribed in two main windows, the logic and behaviour of MatCont was indeed modified in several different places. This has been proven necessary to be able to fully support the usage of existing MatCont's components and functionalities with the new extension. This idea is fully expressed by Figure \ref{fig:stackComparison}.
	
\begin{figure}[htp]
\centering
\includegraphics[scale=0.2]{imgTesi/ideaComparison.jpg}
\caption{Comparison between the initial idea and the implementation }
\label{fig:stackComparison}
\end{figure}

\subsection{The DDE syntax}

How the user can enter a DDE equation by typing it in a natural syntax (i.e. a syntax similar to how the user would write the system on a sheet of paper) was a major issue during the extension process, since the main goal was to create a user-friendly interface to study DDE systems and if the syntax would have been complex and un-natural, the goal wouldn't have been fulfilled.
\newline
Creating a method that was able to recognise the syntax was a process carried out during the first phase of the development and extended later on. It largely involved the usage of regular grammars\footnote{A formal grammar whose expressive power corresponds to the expressive power of finite automatons}.
\newline
\newline
An equation like $y'(t)=r*y(t)*(1-y(t-\tau))$ could be written in the appropriate window (\ref{systemWindow}) by typing $y'=r*y*(1-y[t-TAU])$ where TAU is a parameter representing $\tau$ \label{tau}( since only ASCII characters are allowed).
\newline
In later development stages distributed delay differential equations were added to the equations supported by the software.\newline An equation like $y'(t)=r* \int_{-\tau}^{0} -y(t-delay)\,delay $ can be inserted by typing $y'=r * \backslash int\_\{-TAU\}    \widehat {} \{0\}\{ -y[t-delay] \} \{ delay \}$.
The syntax used to insert integrals is very similar to the syntax used in LateX.
The $\backslash int\_$ marks the beginning of the integral, then four pairs of curly braces delimit respectively the first and second integration extreme, the function to integrate and the integration variable. \newline
In the same way a state dependent equation like [inserire esempio] could be written as [sintassi matcont esempio].

\subsection{Inserting a new ODE or DDE system}

By selecting the command to insert a new system in the new version of MatCont  the user will be presented the window in Figure \ref{fig:insertingWindow}. From Figure \ref{fig:insertingWindow} we can see the interface did maintain its overall structure, indeed it would have been counterintuitive to create a new interface from scratch, mainly for two reasons, the interface resulted to be already well structured and it would have been harder for users that had already used MatCont for years to adapt to a new interface. 

\begin{figure}[htp]
\centering
\includegraphics[scale=0.350]{imgTesi/insertingPredatorPrey.png}
\caption{MatCont window to insert a DDE}
\label{fig:insertingWindow}
\end{figure}

From the end user perspective only a single line has changed, in this line, a dropdown menu lets the user select the type of system to be inserted.
If the option "ODE" is chosen then nothing except this first line will be changed, on the other end if "DDE" is chosen a subwindow asking the user to input an additional parameter will appear.
All the parameters will still be typed in the parameters entry whether they are used to calculate a delay or not. This latter functionality has been modified in later development stages since originally the parameters showing up in the delays (e.g. $\tau$\ref{tau}) had to be specified in the subwindow, alongside the number of equations discretizing the system. \newline
\newline
What the user can not see, at least from the graphical interface, is that the binary file associated with a system contains now two additional fields\label{sec:additionalFields}, one describing the type of the system and the other containing, if the system contains delay differential equations, the number of equations on which approximate the infinite dimensional ode system.
The script file containing the functions used by MatCont when performing operations on the system, if it's a DDE system, is also substantially different when comparing it to the same file associated with an ODE system.
The key idea used is based on the same principle used when refactoring a method: the methods in the script were semantically modified while keeping the same signature as their ODE counterparts. By doing so it hasn't been proven necessary to modify every part of MatCont invoking those methods.

\begin{figure}[htp]
\centering
\includegraphics[scale=0.40]{imgTesi/parametri.png}
\caption{\textcolor{red}{cambiare con l'immagine corretta}}
\label{mParameter}
\end{figure}



\subsection{Editing an ODE or DDE system}
The view the user is presented when a system to edit is selected is still the same of when a new system is inserted, with the exception that now, the dropdown menu that would allow the user to select the system type is locked on the type of the system that is being modified. \newline
When the system considered is a 'legacy system', meaning a system previously inserted with the original version of MatCont, or an ODE system inserted with the extended version of MatCont, the user will be presented the same system details as in the original MatCont that could be modified (i.e. the name, the coordinates, the parameters, the time, and the equations themselves). \newline
On the other hand, if the system considered is an "DDE" one, the interface will display (as when the insertion of a new "DDE" system is performed) a button that when pressed will show the panel containing the number of equations discretizing the system chosen. This value can be modified alongside all the details discussed above for the "ODE" systems.


\section{The full legacy support}

As written in  \hyperref[sec:additionalFields]{section 7.1.2} the binary file (.mat) associated to a system contains now some additional fields, this could make someone question whether the extended version of MatCont will still work with systems (and thus files) created with the regular version of MatCont, previously referred as \emph{legacy systems}. \newline
One of the main goals was indeed to achieve full compatibility with these systems, and this is mainly done when a system is loaded. When MatCont now loads a file checks whether the field denoting the system type in the binary file exists or not. If it finds to be the latter case then the value of the field loaded is set to "ODE", since in regular MatCont only these types of systems are allowed. From this point in the code everything will work the same as for "ODE" systems inserted with the extended version of the software.
\newline
\newline
This compatibility with previously created systems can easily be understood from Figure \ref{fig:stateDiagramNew} which describes the states the extended MatCont can have when inserting the new system. Comparing it with Figure \ref{stateDiagram} the new states are represented by a green rectangle, and it can be observed that the overall structure remains similar while special states for managing the new cases are added. This modus operandi lead also the extension for the other MatCont's components involved.

\begin{figure}[htp]
\hspace*{-6em}
\includegraphics[scale=0.45]{imgTesi/matcont_system_state_diagramNEW.jpg}
\caption{The state diagram regarding the insertion of a new system in the extended MatCont}
\label{fig:stateDiagramNew}
\end{figure}

\section{A Deeper view of the parsing process} 

The parsing process on the equations of the System as can be seen from Figure \ref{fig:stateDiagramNew} takes place only in the case of DDE systems, since otherwise the system won't contain nor discrete nor distributed delays.\newline
This parsing phase is responsible for translating the equations in the system written by the user to the format the system will present in its discretized form in the \emph{fun\_eval} function in the relative .m file. The \emph{fun\_eval} function returns a vector containing the evaluation of the system with the specified state and value of the parameters \textcolor{red}{(da verificare, fun eval, non ha desrcizione)}.\newline
The parsing process consist of two main phases, a first routine where each equation of the system is checked for delayed terms (since some equations in the DDE system may not contain delays) with the a regular expression like the following:
\begin{center}
$"coordinateVar\; \backslash [\;timeVar \;\backslash W\;(\;\backslash [\;timeVar \;\backslash W\;[\;\widehat {}\; \backslash ]]*\backslash ]\;|\;[ \;\widehat {} \;  \backslash ]])*\backslash ]"$ 
\end{center}	
The meaning of the regular expression above applied on an equation of the system can be interpreted as: "Find in the right hand side of the equation the substrings starting with the specific coordinate, followed by a open square bracket and by a non alphabetic nor numeric symbol \footnote{A character not in the[a\textendash zA\textendash Z\_0\textendash 9] set.} (expecting the user to insert a $+$ or $-$) followed either by another open square bracket, another non alphabetic nor numeric symbol and a string not containing the close square bracket, or followed by just the latter string. Then repeat this pattern for zero or more times (Kleene star operator) and lastly the substring must end with a close square bracket".\newline
By doing this it is then possible to extrapolate the delay and replace the substring with another properly built string that contains a call to a static function defined inside another script file that is responsible for computing the interpolation.
\newline
This process is repeated for each equation with all the different coordinates (since every equation might contain an arbitrary delayed term).
The structure of the regular expression above allows the recognition of state dependent equation up to one nested level. \textcolor{red}{da implementare ancora}\newline
The second routine of the parsing phase is responsible for recognising and properly substituting integrals that may appear in the right hand side of an equation. It follows the same principle, for each equation with a proper built regular expression find all the integrals, recognise and substitute the integration variable and eventually substitute the integral in the right hand side with a string that will be evaluated in computing \emph{fun\_eval}.
\textcolor{red}{........maggiore dettaglio sulla seconda routine ........}
\newline There are also other secondary less complex routines that write in the .m file other parts of both the \emph{fun\_eval}, \emph{init} and other functions.\newline
One of the routines mentioned is responsible for writing in the file some functions each returining a pre-computed matrix. For example one function returns the M+1 Chebyshev nodes in the intervall $[0,1]$. 
\newline \newline
Another of the secondary routine is responsible for writing in \emph{fun\_eval} an array identified by the name 'delayFunctions' containing all the delays found in the system. The process used to find the delays is analogous to the one used during the first pharsing phase. The array written in \emph{fun\_eval} will be used in every evaluation of the system to deremine the maximum (without sign) delay and subsequentily scale the Chebyshev nodes (used to interpolate the behaviour of the solution in the interval $[-\tau_{max},0]$) from the interval $[0,1]$ to $[-\tau_{max},0]$






\newpage
\section{A brief look at the development process}
The development process followed some of the development principles presented in the Agile Manifesto \cite{agileManifesto}. Focus was especially put on the delivery of working software frequently and on the iterative development process. Overviewing the iteration process the evolution of the software went through these major intermediate phases: \label{iterative}


\begin{itemize}
	\item Development of the extension of the GUI (without any behaviour attached).
	\item Integration of the structure used by MatCont to memorize systems in files and integration of the behaviour for the extended interface.
	\item Adjustment of the preprocessing done on the data inserted by the user before passing it to the numerical algorithms (at this point the numerical part of MatCont, such as integration or the continuation of an equilibrium, was working correctly with non state dependent DDE equations).
	\item Integration of MatConts' scripts related to the memorization of the computed data (now the part of Matcont related to plotting the computed curve worked correctly with DDE systems).
	\item Extension of the preprocessing and parsing phase done on the input to recognise distributed delays (i.e. parsing integrals). 
	\item Extension of the preprocessing and parsing phase done on the input to recognise state dependent equations.  [da fare]
\end{itemize}

Each intermediate version was followed by a small testing phase, consisting primary of Unit testing, a related debugging phase and a code documentation phase. Towards the ending phases of the development some system testing (e.g. higher level testing aiming to check the quality of the whole system \cite{softwareTesting}) took place. These last tests were carried out with ad-hoc dynamical systems and by creating, studying and comparing the results of some of the examples studied with DDE-BifTool\footnote{A software for the bifurcation analysis of delay-differential equations} that can be found on its reference webpage\footnote{http://ddebiftool.sourceforge.net/demos/index.html}.  
\newline
\newline
During the development two main challanges were faced:

\begin{itemize}
	\item Working on a software (MatCont) related to a previously unkonw domain to me. This situation is quite common when dealing with softwares in a field new to someone. How this challenged was faced and overcame was by conducting an introductionary study on the main aspects of the field (e.g. Chapter 4 and 5) and also by interacting with a domain expert.   
	
	\item Understanding and extending sections of code with little or none code documentation (i.e. comments or method contracts) as introduced in section \ref{documentation}. This challenge was mostly faced when adapting the code responsible for handling the curve data. Overall, this challenge has been faced with the help of some of the tools provided by MatLab for the debugging process such as breakpoints and step-by-step execution. 
\end{itemize}

On the other hand, it has not been a problem adapting to the programming language used by MatLab being a high level programming language and presenting a semantic for the main constructs analogous to many other languages. 
\newline
\begin{figure}[htp]
\hspace*{-5em}
\includegraphics[scale=0.38]{imgTesi/comparisonMerged.png}
\caption{The qualitative comparison between DDE-Biftool curve and Matcont's curve }
\label{fig:curveComparison}
\end{figure}


\textcolor{red}{......... inserire capitolo con conclusioni?.........}

\newpage
\clearpage
\bibliography{bibliografia}
\bibliographystyle{ieeetr}
\end{document}

